//ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸‰å…ƒç»„ [nums[i], nums[j], nums[k]] æ»¡è¶³ i != jã€i != k ä¸” j != 
//k ï¼ŒåŒæ—¶è¿˜æ»¡è¶³ nums[i] + nums[j] + nums[k] == 0 ã€‚è¯·ä½ è¿”å›æ‰€æœ‰å’Œä¸º 0 ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚ 
//
// æ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚ 
//
// 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//è¾“å…¥ï¼šnums = [-1,0,1,2,-1,-4]
//è¾“å‡ºï¼š[[-1,-1,2],[-1,0,1]]
//è§£é‡Šï¼š
//nums[0] + nums[1] + nums[2] = (-1) + 0 + 1 = 0 ã€‚
//nums[1] + nums[2] + nums[4] = 0 + 1 + (-1) = 0 ã€‚
//nums[0] + nums[3] + nums[4] = (-1) + 2 + (-1) = 0 ã€‚
//ä¸åŒçš„ä¸‰å…ƒç»„æ˜¯ [-1,0,1] å’Œ [-1,-1,2] ã€‚
//æ³¨æ„ï¼Œè¾“å‡ºçš„é¡ºåºå’Œä¸‰å…ƒç»„çš„é¡ºåºå¹¶ä¸é‡è¦ã€‚
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//è¾“å…¥ï¼šnums = [0,1,1]
//è¾“å‡ºï¼š[]
//è§£é‡Šï¼šå”¯ä¸€å¯èƒ½çš„ä¸‰å…ƒç»„å’Œä¸ä¸º 0 ã€‚
// 
//
// ç¤ºä¾‹ 3ï¼š 
//
// 
//è¾“å…¥ï¼šnums = [0,0,0]
//è¾“å‡ºï¼š[[0,0,0]]
//è§£é‡Šï¼šå”¯ä¸€å¯èƒ½çš„ä¸‰å…ƒç»„å’Œä¸º 0 ã€‚
// 
//
// 
//
// æç¤ºï¼š 
//
// 
// 3 <= nums.length <= 3000 
// -10âµ <= nums[i] <= 10âµ 
// 
//
// Related Topics æ•°ç»„ åŒæŒ‡é’ˆ æ’åº ğŸ‘ 7699 ğŸ‘ 0


package æ•°ç»„;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

/**
 * ä¸‰æ•°ä¹‹å’Œ
 * @author Jayden
 * @date 2025-10-12 14:57:09
 */
public class P15_ThreeSum{
	 public static void main(String[] args) {
	 	 //æµ‹è¯•ä»£ç 
	 	 Solution solution = new P15_ThreeSum().new Solution();
	 }
	 
//åŠ›æ‰£ä»£ç 
//leetcode submit region begin(Prohibit modification and deletion)

    /**
     * 1. ç†è§£æ ¸å¿ƒæ€æƒ³
     * ä¸ºä»€ä¹ˆæ’åºï¼Ÿ
     *
     * æ’åºåå¯ä»¥æ–¹ä¾¿åœ°ä½¿ç”¨åŒæŒ‡é’ˆ
     *
     * ä¾¿äºè·³è¿‡é‡å¤å…ƒç´ ï¼Œé¿å…é‡å¤è§£
     *
     * å¯ä»¥åˆ©ç”¨æœ‰åºæ€§ä¼˜åŒ–æœç´¢è¿‡ç¨‹
     *
     * åŒæŒ‡é’ˆå¦‚ä½•å·¥ä½œï¼Ÿ
     *
     * å·¦æŒ‡é’ˆå‘å³ç§»åŠ¨å¢å¤§å’Œ
     *
     * å³æŒ‡é’ˆå‘å·¦ç§»åŠ¨å‡å°å’Œ
     *
     * æ ¹æ®å½“å‰å’Œä¸ç›®æ ‡å€¼çš„å…³ç³»è°ƒæ•´æŒ‡é’ˆ
     */
    class Solution {
    public List<List<Integer>> threeSum(int[] nums) {
        // åˆ›å»ºç»“æœåˆ—è¡¨ï¼Œç”¨äºå­˜å‚¨æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„ä¸‰å…ƒç»„
        List<List<Integer>> result = new ArrayList<>();

        // è¾¹ç•Œæƒ…å†µå¤„ç†ï¼šå¦‚æœæ•°ç»„é•¿åº¦å°äº3ï¼Œç›´æ¥è¿”å›ç©ºç»“æœ
        if (nums.length < 3) {
            return result;
        }

        // æ­¥éª¤1ï¼šå¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œè¿™æ˜¯åŒæŒ‡é’ˆè§£æ³•çš„åŸºç¡€
        // æ’åºåå¯ä»¥æ–¹ä¾¿åœ°ä½¿ç”¨åŒæŒ‡é’ˆï¼Œå¹¶ä¸”ä¾¿äºå»é‡
        Arrays.sort(nums);

        // æ­¥éª¤2ï¼šéå†æ•°ç»„ï¼Œå°†æ¯ä¸ªå…ƒç´ ä½œä¸ºç¬¬ä¸€ä¸ªå›ºå®šæ•°
        // åªéœ€è¦éå†åˆ°å€’æ•°ç¬¬ä¸‰ä¸ªå…ƒç´ ï¼Œå› ä¸ºéœ€è¦ä¸‰ä¸ªæ•°
        for (int first = 0; first < nums.length - 2; first++) {
            // æ­¥éª¤3ï¼šå»é‡å¤„ç† - å¦‚æœå½“å‰æ•°ä¸ä¸Šä¸€ä¸ªæ•°ç›¸åŒï¼Œè·³è¿‡ä»¥é¿å…é‡å¤è§£
            // æ³¨æ„ï¼šfirst > 0 ç¡®ä¿ä¸ä¼šè¶Šç•Œ
            if (first > 0 && nums[first] == nums[first - 1]) {
                continue;
            }

            // æ­¥éª¤4ï¼šåˆå§‹åŒ–åŒæŒ‡é’ˆ
            // leftæŒ‡é’ˆä»first+1å¼€å§‹ï¼ŒrightæŒ‡é’ˆä»æ•°ç»„æœ«å°¾å¼€å§‹
            int left = first + 1;
            int right = nums.length - 1;

            // è®¡ç®—ç›®æ ‡å€¼ï¼šæˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸¤ä¸ªæ•°ï¼Œå®ƒä»¬çš„å’Œç­‰äº -nums[first]
            // å› ä¸º nums[first] + nums[left] + nums[right] = 0
            // æ‰€ä»¥ nums[left] + nums[right] = -nums[first]
            int target = -nums[first];

            // æ­¥éª¤5ï¼šä½¿ç”¨åŒæŒ‡é’ˆåœ¨å‰©ä½™æ•°ç»„ä¸­å¯»æ‰¾å¦å¤–ä¸¤ä¸ªæ•°
            while (left < right) {
                // è®¡ç®—å½“å‰ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘çš„æ•°çš„å’Œ
                int sum = nums[left] + nums[right];

                if (sum == target) {
                    // æ­¥éª¤6ï¼šæ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„ä¸‰å…ƒç»„ï¼ŒåŠ å…¥ç»“æœåˆ—è¡¨
                    result.add(Arrays.asList(nums[first], nums[left], nums[right]));

                    // æ­¥éª¤7ï¼šç§»åŠ¨æŒ‡é’ˆå¹¶è·³è¿‡é‡å¤å…ƒç´ 
                    // ç§»åŠ¨leftæŒ‡é’ˆç›´åˆ°é‡åˆ°ä¸åŒçš„æ•°ï¼Œé¿å…é‡å¤è§£
                    while (left < right && nums[left] == nums[left + 1]) {
                        left++;
                    }
                    // ç§»åŠ¨rightæŒ‡é’ˆç›´åˆ°é‡åˆ°ä¸åŒçš„æ•°ï¼Œé¿å…é‡å¤è§£
                    while (left < right && nums[right] == nums[right - 1]) {
                        right--;
                    }

                    // æ­¥éª¤8ï¼šåŒæ—¶ç§»åŠ¨å·¦å³æŒ‡é’ˆï¼Œç»§ç»­å¯»æ‰¾å…¶ä»–è§£
                    // æ³¨æ„ï¼šè¿™é‡Œå¿…é¡»åœ¨å»é‡åç§»åŠ¨ï¼Œå¦åˆ™å¯èƒ½ä¼šè·³è¿‡ä¸€äº›è§£
                    left++;
                    right--;
                } else if (sum < target) {
                    // æ­¥éª¤9ï¼šå¦‚æœå’Œå°äºç›®æ ‡å€¼ï¼Œéœ€è¦å¢å¤§å’Œ
                    // å› ä¸ºæ•°ç»„å·²æ’åºï¼Œæ‰€ä»¥ç§»åŠ¨leftæŒ‡é’ˆå‘å³å¯ä»¥å¢å¤§å’Œ
                    left++;
                } else {
                    // æ­¥éª¤10ï¼šå¦‚æœå’Œå¤§äºç›®æ ‡å€¼ï¼Œéœ€è¦å‡å°å’Œ
                    // å› ä¸ºæ•°ç»„å·²æ’åºï¼Œæ‰€ä»¥ç§»åŠ¨rightæŒ‡é’ˆå‘å·¦å¯ä»¥å‡å°å’Œ
                    right--;
                }
            }
        }

        // è¿”å›æ‰€æœ‰æ‰¾åˆ°çš„ä¸é‡å¤çš„ä¸‰å…ƒç»„
        return result;
    }
}
//leetcode submit region end(Prohibit modification and deletion)

}
