# 82. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  II

## ğŸ“ è§£é¢˜æ€è·¯ï¼ˆæ€»åˆ†ç»“æ„ï¼‰

### æ€»æ€è·¯
ä½¿ç”¨å“‘èŠ‚ç‚¹(dummy node)ç®€åŒ–è¾¹ç•Œæƒ…å†µå¤„ç†ï¼Œéå†é“¾è¡¨ï¼Œè·³è¿‡æ‰€æœ‰é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œåªä¿ç•™å‡ºç°ä¸€æ¬¡çš„å…ƒç´ ã€‚

### åˆ†æ­¥éª¤è¯¦è§£
1. **åˆ›å»ºå“‘èŠ‚ç‚¹**ï¼šç®€åŒ–å¤´èŠ‚ç‚¹å¯èƒ½è¢«åˆ é™¤çš„æƒ…å†µ
2. **åˆå§‹åŒ–æŒ‡é’ˆ**ï¼šä½¿ç”¨prevæŒ‡é’ˆæŒ‡å‘å½“å‰å·²å¤„ç†éƒ¨åˆ†çš„æœ«å°¾ï¼ŒcurræŒ‡é’ˆç”¨äºéå†
3. **éå†é“¾è¡¨**ï¼šå½“currå’Œcurr.nextéƒ½å­˜åœ¨æ—¶å¾ªç¯
4. **æ£€æµ‹é‡å¤**ï¼šå¦‚æœå½“å‰èŠ‚ç‚¹ä¸ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å€¼ç›¸åŒï¼Œæ‰¾åˆ°æ‰€æœ‰é‡å¤èŠ‚ç‚¹
5. **è·³è¿‡é‡å¤**ï¼šå°†prev.nextæŒ‡å‘é‡å¤æ®µåçš„ç¬¬ä¸€ä¸ªä¸åŒèŠ‚ç‚¹
6. **å¤„ç†ä¸é‡å¤**ï¼šå¦‚æœå½“å‰èŠ‚ç‚¹ä¸é‡å¤ï¼Œç§»åŠ¨prevæŒ‡é’ˆ
7. **ç§»åŠ¨curr**ï¼šæ¯æ¬¡å¾ªç¯curréƒ½å‘å‰ç§»åŠ¨

## ğŸ·ï¸ ç®—æ³•å½’ç±»

**ä¸»è¦å½’ç±»**ï¼šé“¾è¡¨æ“ä½œã€åŒæŒ‡é’ˆ  
**ç›¸å…³çŸ¥è¯†ç‚¹**ï¼šå“‘èŠ‚ç‚¹æŠ€å·§ã€é“¾è¡¨åˆ é™¤ã€é‡å¤å…ƒç´ å¤„ç†  
**éš¾åº¦çº§åˆ«**ï¼šä¸­ç­‰  
**ç›¸ä¼¼é¢˜å‹**ï¼šåˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ ã€ç§»é™¤é“¾è¡¨å…ƒç´ 

## ğŸ’» Javaä»£ç å®ç°

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode() {}
 *     ListNode(int val) { this.val = val; }
 *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }
 * }
 */
class Solution {
    public ListNode deleteDuplicates(ListNode head) {
        // æ­¥éª¤1ï¼šåˆ›å»ºå“‘èŠ‚ç‚¹ï¼Œç®€åŒ–å¤´èŠ‚ç‚¹å¯èƒ½è¢«åˆ é™¤çš„æƒ…å†µ
        // å“‘èŠ‚ç‚¹çš„nextæŒ‡å‘åŸå§‹é“¾è¡¨çš„å¤´èŠ‚ç‚¹
        ListNode dummy = new ListNode(0);
        dummy.next = head;
        
        // æ­¥éª¤2ï¼šåˆå§‹åŒ–ä¸¤ä¸ªæŒ‡é’ˆ
        // prevæŒ‡å‘å½“å‰å·²å¤„ç†éƒ¨åˆ†çš„æœ€åä¸€ä¸ªä¸é‡å¤èŠ‚ç‚¹
        // currç”¨äºéå†æ•´ä¸ªé“¾è¡¨
        ListNode prev = dummy;
        ListNode curr = head;
        
        // æ­¥éª¤3ï¼šéå†é“¾è¡¨
        while (curr != null) {
            // æ­¥éª¤4ï¼šæ£€æµ‹å½“å‰èŠ‚ç‚¹æ˜¯å¦æœ‰é‡å¤
            // å¦‚æœå½“å‰èŠ‚ç‚¹ä¸ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å€¼ç›¸åŒï¼Œè¯´æ˜æœ‰é‡å¤
            if (curr.next != null && curr.val == curr.next.val) {
                // æ­¥éª¤5ï¼šæ‰¾åˆ°æ‰€æœ‰é‡å¤çš„èŠ‚ç‚¹
                // ä¸€ç›´å‘åéå†ï¼Œç›´åˆ°æ‰¾åˆ°ä¸åŒçš„å€¼æˆ–é“¾è¡¨æœ«å°¾
                while (curr.next != null && curr.val == curr.next.val) {
                    curr = curr.next;
                }
                // æ­¥éª¤6ï¼šè·³è¿‡æ‰€æœ‰é‡å¤èŠ‚ç‚¹
                // å°†prev.nextæŒ‡å‘é‡å¤æ®µåçš„ç¬¬ä¸€ä¸ªä¸åŒèŠ‚ç‚¹
                prev.next = curr.next;
            } else {
                // æ­¥éª¤7ï¼šå½“å‰èŠ‚ç‚¹æ²¡æœ‰é‡å¤ï¼Œç§»åŠ¨prevæŒ‡é’ˆ
                prev = prev.next;
            }
            
            // æ­¥éª¤8ï¼šç§»åŠ¨curræŒ‡é’ˆåˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
            curr = curr.next;
        }
        
        // æ­¥éª¤9ï¼šè¿”å›å¤„ç†åçš„é“¾è¡¨å¤´èŠ‚ç‚¹ï¼ˆå“‘èŠ‚ç‚¹çš„nextï¼‰
        return dummy.next;
    }
}
```

## ğŸ“š å­¦ä¹ å»ºè®®

### 1. ç†è§£å“‘èŠ‚ç‚¹çš„é‡è¦æ€§

**ä¸ºä»€ä¹ˆéœ€è¦å“‘èŠ‚ç‚¹ï¼Ÿ**
```java
// å¦‚æœæ²¡æœ‰å“‘èŠ‚ç‚¹ï¼Œå½“å¤´èŠ‚ç‚¹éœ€è¦è¢«åˆ é™¤æ—¶å¤„ç†ä¼šå¾ˆå¤æ‚
// æ¯”å¦‚é“¾è¡¨ï¼š1->1->2->3ï¼Œå¤´èŠ‚ç‚¹1éœ€è¦è¢«åˆ é™¤

// æœ‰å“‘èŠ‚ç‚¹ï¼š
dummy(0) â†’ 1 â†’ 1 â†’ 2 â†’ 3
prev â†‘   curr â†‘

// æ£€æµ‹åˆ°é‡å¤åï¼š
dummy(0) â†’ 2 â†’ 3
prev â†‘   curr â†‘
```

### 2. ç®—æ³•è¿‡ç¨‹å¯è§†åŒ–

**ç¤ºä¾‹**ï¼š`1 â†’ 2 â†’ 3 â†’ 3 â†’ 4 â†’ 4 â†’ 5`

**æ‰§è¡Œè¿‡ç¨‹**ï¼š
```
åˆå§‹: dummy(0) â†’ 1 â†’ 2 â†’ 3 â†’ 3 â†’ 4 â†’ 4 â†’ 5
      prev     curr

ç¬¬1æ­¥: curr=1, æ£€æŸ¥1â‰ 2 â†’ ä¸é‡å¤ â†’ prevç§»åŠ¨åˆ°1, currç§»åŠ¨åˆ°2
ç¬¬2æ­¥: curr=2, æ£€æŸ¥2â‰ 3 â†’ ä¸é‡å¤ â†’ prevç§»åŠ¨åˆ°2, currç§»åŠ¨åˆ°3  
ç¬¬3æ­¥: curr=3, æ£€æŸ¥3=3 â†’ é‡å¤ â†’ æ‰¾åˆ°æ‰€æœ‰3 â†’ prev.nextæŒ‡å‘4, currç§»åŠ¨åˆ°4
ç¬¬4æ­¥: curr=4, æ£€æŸ¥4=4 â†’ é‡å¤ â†’ æ‰¾åˆ°æ‰€æœ‰4 â†’ prev.nextæŒ‡å‘5, currç§»åŠ¨åˆ°5
ç¬¬5æ­¥: curr=5, æ£€æŸ¥5=null â†’ ä¸é‡å¤ â†’ prevç§»åŠ¨åˆ°5, currç§»åŠ¨åˆ°null

ç»“æœ: 1 â†’ 2 â†’ 5
```

### 3. å¤æ‚åº¦åˆ†æ
- **æ—¶é—´å¤æ‚åº¦**ï¼šO(n) - æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šè¢«è®¿é—®ä¸¤æ¬¡
- **ç©ºé—´å¤æ‚åº¦**ï¼šO(1) - åªä½¿ç”¨äº†å¸¸æ•°çº§åˆ«çš„é¢å¤–ç©ºé—´

### 4. ä¸å…¶ä»–è§£æ³•å¯¹æ¯”

**é€’å½’è§£æ³•**ï¼š
```java
class Solution {
    public ListNode deleteDuplicates(ListNode head) {
        if (head == null || head.next == null) return head;
        
        if (head.val == head.next.val) {
            // è·³è¿‡æ‰€æœ‰é‡å¤å€¼
            while (head.next != null && head.val == head.next.val) {
                head = head.next;
            }
            // é€’å½’å¤„ç†å‰©ä½™éƒ¨åˆ†
            return deleteDuplicates(head.next);
        } else {
            // å½“å‰èŠ‚ç‚¹ä¸é‡å¤ï¼Œä¿ç•™å¹¶å¤„ç†åç»­
            head.next = deleteDuplicates(head.next);
            return head;
        }
    }
}
```

### 5. å­¦ä¹ è·¯å¾„å»ºè®®

1. **å…ˆæŒæ¡è¿­ä»£è§£æ³•**ï¼šç†è§£åŒæŒ‡é’ˆçš„ç§»åŠ¨é€»è¾‘
2. **ç†è§£å“‘èŠ‚ç‚¹æŠ€å·§**ï¼šè¿™æ˜¯é“¾è¡¨é—®é¢˜çš„å¸¸ç”¨æŠ€å·§
3. **ç»ƒä¹ ç›¸ä¼¼é¢˜ç›®**ï¼š
    - 83. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ ï¼ˆä¿ç•™ä¸€ä¸ªé‡å¤å…ƒç´ ï¼‰
    - 203. ç§»é™¤é“¾è¡¨å…ƒç´ 
    - 19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹
4. **æŒæ¡è¾¹ç•Œæƒ…å†µ**ï¼šç©ºé“¾è¡¨ã€å…¨é‡å¤é“¾è¡¨ã€å¤´èŠ‚ç‚¹é‡å¤ç­‰æƒ…å†µ

### 6. å…³é”®æŠ€å·§è¯¦è§£

**é‡å¤æ£€æµ‹çš„é€»è¾‘**ï¼š
```java
// æ£€æŸ¥å½“å‰èŠ‚ç‚¹æ˜¯å¦æœ‰é‡å¤
if (curr.next != null && curr.val == curr.next.val) {
    // æ‰¾åˆ°æ‰€æœ‰é‡å¤èŠ‚ç‚¹
    while (curr.next != null && curr.val == curr.next.val) {
        curr = curr.next;
    }
    // è·³è¿‡é‡å¤æ®µ
    prev.next = curr.next;
}
```

**æŒ‡é’ˆç§»åŠ¨çš„æ—¶æœº**ï¼š
```java
// åªæœ‰å½“å‰èŠ‚ç‚¹ä¸é‡å¤æ—¶ï¼Œæ‰ç§»åŠ¨prevæŒ‡é’ˆ
if (æ²¡æœ‰é‡å¤) {
    prev = prev.next;  // prevç§»åŠ¨åˆ°å½“å‰èŠ‚ç‚¹
}
// curræŒ‡é’ˆæ¯æ¬¡å¾ªç¯éƒ½è¦ç§»åŠ¨
curr = curr.next;
```

### 7. è°ƒè¯•æŠ€å·§

**æ·»åŠ è°ƒè¯•ä¿¡æ¯**ï¼š
```java
public ListNode deleteDuplicates(ListNode head) {
    ListNode dummy = new ListNode(0);
    dummy.next = head;
    ListNode prev = dummy, curr = head;
    
    int step = 1;
    while (curr != null) {
        System.out.println("æ­¥éª¤" + step + ": curr=" + curr.val);
        
        if (curr.next != null && curr.val == curr.next.val) {
            System.out.println("  æ£€æµ‹åˆ°é‡å¤ï¼Œå¼€å§‹è·³è¿‡é‡å¤èŠ‚ç‚¹");
            while (curr.next != null && curr.val == curr.next.val) {
                curr = curr.next;
                System.out.println("    è·³è¿‡èŠ‚ç‚¹: " + curr.val);
            }
            prev.next = curr.next;
            System.out.println("  prev.nextæŒ‡å‘: " + (curr.next == null ? "null" : curr.next.val));
        } else {
            System.out.println("  æ²¡æœ‰é‡å¤ï¼Œç§»åŠ¨prevåˆ°: " + curr.val);
            prev = prev.next;
        }
        
        curr = curr.next;
        step++;
    }
    
    return dummy.next;
}
```

### 8. å¸¸è§é”™è¯¯é¿å…

```java
// é”™è¯¯ï¼šå¿˜è®°æ£€æŸ¥curr.nextæ˜¯å¦ä¸ºnull
if (curr.val == curr.next.val)  // å¯èƒ½NullPointerException

// é”™è¯¯ï¼šæŒ‡é’ˆç§»åŠ¨é€»è¾‘é”™è¯¯
prev = curr;  // é”™è¯¯ï¼åº”è¯¥åœ¨éé‡å¤æ—¶æ‰ç§»åŠ¨prev

// é”™è¯¯ï¼šæ²¡æœ‰ä½¿ç”¨å“‘èŠ‚ç‚¹
// å½“å¤´èŠ‚ç‚¹éœ€è¦åˆ é™¤æ—¶æ— æ³•å¤„ç†

// é”™è¯¯ï¼šå¾ªç¯æ¡ä»¶é”™è¯¯
while (curr != null && curr.val == curr.next.val)  // curr.nextå¯èƒ½ä¸ºnull
```

### 9. è¾¹ç•Œæƒ…å†µå¤„ç†

**ç‰¹æ®Šæµ‹è¯•ç”¨ä¾‹**ï¼š
```java
// ç©ºé“¾è¡¨
null â†’ null

// å•ä¸ªèŠ‚ç‚¹
[1] â†’ [1]

// å…¨é‡å¤èŠ‚ç‚¹
[1,1,1] â†’ []

// å¤´èŠ‚ç‚¹é‡å¤
[1,1,2,3] â†’ [2,3]

// å°¾èŠ‚ç‚¹é‡å¤  
[1,2,3,3] â†’ [1,2]

// å¤šä¸ªé‡å¤æ®µ
[1,1,2,3,3,4,5,5] â†’ [2,4]
```

## ğŸ¯ æ ¸å¿ƒæ€æƒ³æ€»ç»“

**åˆ é™¤é‡å¤å…ƒç´ IIçš„ç²¾é«“**ï¼š

### 1. å“‘èŠ‚ç‚¹æŠ€å·§
- ç®€åŒ–å¤´èŠ‚ç‚¹å¯èƒ½è¢«åˆ é™¤çš„æƒ…å†µ
- ç»Ÿä¸€æ‰€æœ‰èŠ‚ç‚¹çš„åˆ é™¤æ“ä½œ

### 2. åŒæŒ‡é’ˆé…åˆ
- **prevæŒ‡é’ˆ**ï¼šæŒ‡å‘å½“å‰å·²ç¡®è®¤ä¸é‡å¤çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹
- **curræŒ‡é’ˆ**ï¼šç”¨äºéå†æ£€æµ‹é‡å¤

### 3. é‡å¤æ£€æµ‹ç­–ç•¥
- å‘ç°é‡å¤æ—¶ï¼Œæ‰¾åˆ°é‡å¤æ®µçš„æœ«å°¾
- ä¸€æ¬¡æ€§è·³è¿‡æ•´ä¸ªé‡å¤æ®µ

### 4. æŒ‡é’ˆç§»åŠ¨æ—¶æœº
- åªæœ‰ç¡®è®¤ä¸é‡å¤æ—¶æ‰ç§»åŠ¨prevæŒ‡é’ˆ
- curræŒ‡é’ˆå§‹ç»ˆå‘å‰ç§»åŠ¨

## ğŸ’¡ å®é™…åº”ç”¨åœºæ™¯
- æ•°æ®æ¸…æ´—ä¸­çš„å»é‡æ“ä½œ
- æ—¥å¿—æ–‡ä»¶ä¸­çš„é‡å¤è®°å½•åˆ é™¤
- æ•°æ®åº“æŸ¥è¯¢ç»“æœçš„å»é‡å¤„ç†
- æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„é‡å¤æ¶ˆæ¯è¿‡æ»¤

**é‡è¦æç¤º**ï¼šè¿™é“é¢˜æ˜¯é“¾è¡¨æ“ä½œçš„ç»å…¸é¢˜ç›®ï¼Œç†è§£åå¯ä»¥è§£å†³è®¸å¤šç±»ä¼¼çš„é“¾è¡¨åˆ é™¤é—®é¢˜ã€‚å»ºè®®å¤šç»ƒä¹ å‡ ä¸ªå˜ç§é¢˜ç›®æ¥åŠ æ·±ç†è§£ï¼

é€šè¿‡è¿™é“é¢˜ï¼Œä½ å°†æŒæ¡é“¾è¡¨åˆ é™¤æ“ä½œçš„æ ¸å¿ƒæŠ€å·§ï¼Œç‰¹åˆ«æ˜¯å¤„ç†è¾¹ç•Œæƒ…å†µå’Œé‡å¤å…ƒç´ çš„ç­–ç•¥ï¼Œè¿™æ˜¯è§£å†³å¤æ‚é“¾è¡¨é—®é¢˜çš„é‡è¦åŸºç¡€ï¼